<!doctype html>
<html>
    <head>
        <title> Sampler </title>
        <script type="text/javascript" src="js/nexusUI.js" ></script>
        <script type="text/javascript" src="js/Tone.js" ></script>
        <script>
            var synth = new Tone.Synth();

            var vol = new Tone.Volume(-10);

            synth.chain(vol, Tone.Master); //chain events

            nx.onload = function() {
              playButton.on('*',function(data) {
                console.log("button pressed!");
                synth.triggerAttackRelease("C4", "4n");
              });
              volumeSlider.on('*',function(data) {
                console.log("slider used! data is " + data.value);
                if (data.value === 0) {
                  vol.volume.value = -100;
                }
                else {
                  vol.volume.value = data.value*40 - 40;
                }
                // vol.mute(true);
                // vol.Volume(-50); //data in volumeSlider is a float from 0 - 1; max volume would be 0dBs, min would be -50
              });
            }
        </script>
    </head>
    <body>
      <canvas nx="button" id="playButton" ></canvas>
      <canvas nx="slider" id="volumeSlider"></canvas>
    </body>
</html>


<!-- <!DOCTYPE html>
 <html>
   <head>
<meta charset="utf‐8">
<title> Hello web audio </title> </head>
<body>
   </body>
   <script>
   //create the context for the web audio
      var audioCtx = new (window.AudioContext || window.webkitAudioContext)();

      var volume = audioCtx.createGain();
      volume.connect(audioCtx.destination);

      // var panner = new Tone.Panner(1);

      // volume.connect(panner);
      //create, tune, start and connect each oscillator sinea, sineb and sinec
      var sinea = audioCtx.createOscillator();
      sinea.frequency.value = 440;
      sinea.type = "square";
      sinea.start();
      sinea.connect(volume);

      var sineb = audioCtx.createOscillator();
      sineb.frequency.value = 523.25;
      sineb.type = "square";
      sineb.start();
      sineb.connect(volume);

      var sinec = audioCtx.createOscillator();
      sinec.frequency.value = 698.46;
      sinec.type = "square";
      sinec.start();
      sinec.connect(volume);

      volume.gain.value=0.05;

      // var lfo = new Tone.LFO("4n", 400, 4000);
      // lfo.connect(volume);
   </script>
</html> -->
